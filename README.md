# 空降工具（空降007）

一个纯前端、开箱即用的「空降航线/落点/出发时间」计算与可视化小工具。

- 支持断曲/末端模式切换
- 支持中转曲点链路
- 支持航线预览：2D Canvas + 3D Three.js
- 支持 2D 缩放/拖拽平移、2D/3D 一键切换
- 支持沿航线移动的动态箭头（可开/关）
- 带赛博朋克风格两段式开场动画（可跳过，尊重 `prefers-reduced-motion`）

> 说明：本项目为静态网页工具，不需要后端，不会上传你的坐标数据。

**在线体验：** [shenanwen.com/lss.html](http://shenanwen.com/lss.html)

![界面预览](微信图片_20251227160858_940_92.png)

---

## 功能特性

- **坐标解析与计算**
  - 输入多队出发点、目标点、断曲点/末端曲点等
  - 计算飞行时长、出发时间等结果
- **航线可视化**
  - **2D 模式**：Canvas 绘制航线与关键点
  - **2D 交互**：滚轮缩放、拖拽平移、`适配航线` / `复位视角`
  - **3D 模式**：Three.js 交互视角预览（OrbitControls）
  - **动态箭头**：沿航线方向循环移动（2D/3D 均支持，可关闭）
- **体验与兼容**
  - 移动端/触摸设备交互适配
  - `prefers-reduced-motion` 时自动弱化/跳过动效
  - 所有逻辑本地运行，默认不联网

---

## 使用教程

### 1) 打开方式

- 推荐直接使用在线版本：[shenanwen.com/lss.html](http://shenanwen.com/lss.html)
- 若你需要离线使用或二次开发：打开 `ls.html` 即可。
- 如果你希望在本机以“网页服务”方式运行（更接近线上环境），可以用静态服务器打开（推荐按下面命令运行）：

  - Python

    ```bash
    python -m http.server 8080 --bind 127.0.0.1
    ```

  - Node.js

    ```bash
    npx serve .
    ```

  然后在浏览器访问（任选一个）：

  - `http://localhost:8080/ls.html`
  - `http://127.0.0.1:8080/ls.html`
  - `http://[::1]:8080/ls.html`

  > 注意：终端里看到的 `http://[::]:8080/` 里的 `[::]` 是“监听用的通配地址”，很多浏览器不能直接作为访问地址使用。请用 `localhost/127.0.0.1/::1`。
  > Node.js：端口不一定是 8080，请以终端输出为准（例如 `http://localhost:3000/ls.html`）。

  - （可选）手机/局域网访问：

    ```bash
    python -m http.server 8080 --bind 0.0.0.0
    ```

    然后用同一 Wi-Fi 下的设备访问：`http://你的电脑局域网IP:8080/ls.html`

### 2) 坐标格式

- 推荐格式：`(x,y)`
  - 例：`(705,1285)`、`(1600,1600)`
- 建议只输入数字与逗号，避免中文符号带来的解析问题。

### 3) 输入区（如何填）

输入区的核心目标是：给出目标点与路线关键点，并为每一队填出发点参数。

- **断曲点 / 末端中转切换**

  - 页面里有一个开关用于切换“哪一个点固定”。
  - 通常：
    - 固定断曲点：根据参数计算末端中转
    - 固定末端中转：根据参数计算断曲点
  - 你按实际需要选择一种模式即可。
- **目标坐标**

  - 输入你要到达的目标点坐标。
- **距离控制 / 其它参数**

  - 这里用于控制路线的距离/尺度相关参数（以页面显示的单位为准）。
- **多队出发点**

  - 每一队填一组出发点坐标。
  - 如果页面支持队名/曲率等字段：
    - 队名：用于结果区与标签显示
    - 曲率：影响航线弯曲与时长（数值越大/越小的含义以你当前版本页面逻辑为准）
- **落地时间**

  - 用于倒推每队的出发时间。

### 4) 结果区（怎么看/怎么复制）

- 结果区会列出每队的关键结果（如出发时间、飞行时长等）。
- **复制**
  - 桌面端：鼠标悬停结果行，会出现复制操作。
  - 手机/触摸设备：点击结果行，会出现复制操作；点空白处可隐藏。

### 5) 航线预览（2D/3D 操作指南）

默认进入页面展示 **2D** 航线预览。

- **2D/3D 切换**

  - 右上角按钮 `2D/3D` 显示的是“当前模式”。
- **动态箭头**

  - `箭头开/关`：控制沿航线移动的箭头显示（2D/3D 均生效）。
- **适配航线 / 复位视角**

  - `适配航线`：自动缩放并居中，让整条航线完整显示。
  - `复位视角`：恢复默认视图。
  - 两个按钮在 **2D/3D 模式都可用**。
- **2D 缩放/平移**

  - 滚轮：缩放
  - 鼠标拖拽：平移
- **3D 交互**

  - 鼠标拖拽：旋转视角
  - 滚轮：缩放
  - 右键/中键拖拽：平移（取决于浏览器/控件设置）

### 6) 常见问题（FAQ）

- **输入后没有结果/预览不显示**

  - 检查坐标格式是否为 `(x,y)`，是否包含中文逗号/括号。
  - 确认必填项（目标点、断曲/末端点、至少一个出发点、落地时间）已填写。
- **手机上点不到按钮/复制不了**

  - 推荐使用系统浏览器或 WebView 兼容较好的壳；若仍有问题可提 Issue 并附设备型号与系统版本。
- **动效太多影响性能**

  - 你可以关闭“箭头”，并在系统设置中开启“减少动态效果（prefers-reduced-motion）”。

---

## 隐私说明

- **默认不联网**：该工具为静态网页，所有计算在本地完成。
- 如你自行在浏览器中打开任何联网功能（例如加载远程资源/脚本）或未来改造成后端服务，请自行评估风险。

---

## 免责声明

- 本项目仅供学习与交流使用。
- 计算结果受输入数据、算法假设、以及游戏内机制变化等影响，仅供参考；请自行核对并承担使用风险。
- 若你将本项目用于任何不当用途，后果自负。

---

## 贡献

欢迎提交 Issue / PR：

- Bug 修复
- 交互优化
- 动效/可视化增强
- 计算逻辑的单元测试（如果你愿意拆分为模块化工程）

---

## License

建议开源时选择以下之一：

- **MIT**：最宽松，适合工具类项目
- **Apache-2.0**：带专利条款，保护更强

你可以在 GitHub 创建仓库时选择 License 模板，或添加 `LICENSE` 文件。
